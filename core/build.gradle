sourceCompatibility = JavaVersion.VERSION_17
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

sourceSets.main.java.srcDirs = ["src/"]
sourceSets.test.java.srcDirs = ["test/"]

project.ext.assetsDir = new File("../assets/")

test {
    useJUnitPlatform {
        includeTags('Unit')
    }
    workingDir = new File("../assets/")

    reports.junitXml.destination = file("$buildDir/unitReports")

    testLogging {
        events "passed", "skipped", "failed"
    }
}

task integrationTest(type: Test) {
    useJUnitPlatform {
        includeTags('Integration')
    }
    workingDir = new File("../assets/")

    reports.junitXml.destination = file("$buildDir/integrationReports")

    testLogging {
        events "passed", "skipped", "failed"
    }
}

jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled false
    }
}